<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EISENTODO - Priority Matrix System</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Work+Sans:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Control Panel -->
    <header class="control-panel">
        <div class="brand-section">
            <a href="#" class="logo-link" id="logoLink">
                <h1 class="logo">EISENTODO</h1>
            </a>
            <p class="tagline">Stop wondering what to do next</p>
        </div>
        
        <div class="action-cluster">
            <button class="ctrl-btn" id="themeToggleBtn" aria-label="Toggle theme">
                <span class="icon-theme">‚óê</span>
            </button>
            <button class="ctrl-btn" id="showBacklogBtn">
                <span>BACKLOG</span>
            </button>
            <button class="ctrl-btn" id="showArchiveBtn">
                <span>ARCHIVE</span>
            </button>
        </div>
    </header>

    <!-- Search & Filter Bar -->
    <div class="filter-strip" id="filterStrip">
        <div class="search-bar">
            <input type="text" class="search-input" id="searchInput" placeholder="Search tasks..." />
        </div>
        <button class="ctrl-btn collapse-all-btn" id="collapseAllBtn" title="Collapse/Expand all tasks">
            <span id="collapseAllIcon">‚ñæ</span> COLLAPSE
        </button>
        <div class="filter-label">FILTER:</div>
        <div class="tag-filter-container" id="tagFilterContainer">
            <button class="tag-filter active" data-filter="all">ALL</button>
        </div>
    </div>

    <!-- Main Matrix Grid -->
    <main class="matrix-container" id="mainMatrix">
        <div class="matrix-grid">
            <!-- Quadrant 1: Urgent + Important -->
            <section class="quadrant q-urgent-important" data-quadrant="urgent-important">
                <div class="quadrant-header">
                    <span class="quadrant-icon">üî•</span>
                    <h2>DO FIRST</h2>
                    <p class="quadrant-subtitle">Urgent + Important</p>
                </div>
                <div class="task-zone" data-zone="urgent-important"></div>
                <div class="quick-add-bar">
                    <input type="text" class="quick-add-input" data-quadrant="urgent-important" placeholder="Type task... #tag https://link" />
                </div>
            </section>

            <!-- Quadrant 2: Not Urgent + Important -->
            <section class="quadrant q-not-urgent-important" data-quadrant="not-urgent-important">
                <div class="quadrant-header">
                    <span class="quadrant-icon">üìÖ</span>
                    <h2>SCHEDULE</h2>
                    <p class="quadrant-subtitle">Not Urgent + Important</p>
                </div>
                <div class="task-zone" data-zone="not-urgent-important"></div>
                <div class="quick-add-bar">
                    <input type="text" class="quick-add-input" data-quadrant="not-urgent-important" placeholder="Type task... #tag https://link" />
                </div>
            </section>

            <!-- Quadrant 3: Urgent + Not Important -->
            <section class="quadrant q-urgent-not-important" data-quadrant="urgent-not-important">
                <div class="quadrant-header">
                    <span class="quadrant-icon">üë•</span>
                    <h2>DELEGATE</h2>
                    <p class="quadrant-subtitle">Urgent + Not Important</p>
                </div>
                <div class="task-zone" data-zone="urgent-not-important"></div>
                <div class="quick-add-bar">
                    <input type="text" class="quick-add-input" data-quadrant="urgent-not-important" placeholder="Type task... #tag https://link" />
                </div>
            </section>

            <!-- Quadrant 4: Not Urgent + Not Important -->
            <section class="quadrant q-not-urgent-not-important" data-quadrant="not-urgent-not-important">
                <div class="quadrant-header">
                    <span class="quadrant-icon">üóëÔ∏è</span>
                    <h2>ELIMINATE</h2>
                    <p class="quadrant-subtitle">Not Urgent + Not Important</p>
                </div>
                <div class="task-zone" data-zone="not-urgent-not-important"></div>
                <div class="quick-add-bar">
                    <input type="text" class="quick-add-input" data-quadrant="not-urgent-not-important" placeholder="Type task... #tag https://link" />
                </div>
            </section>
        </div>
    </main>

    <!-- Archive View (Hidden by default) -->
    <div class="archive-view hidden" id="archiveView">
        <div class="archive-header">
            <div>
                <h2>COMPLETED ARCHIVE</h2>
                <p class="archive-subtitle">All finished tasks</p>
            </div>
            <button class="ctrl-btn" id="closeArchiveBtn">
                <span>‚Üê BACK</span>
            </button>
        </div>
        <div class="archive-list" id="archiveList"></div>
    </div>

    <!-- Backlog View (Hidden by default) -->
    <div class="backlog-view hidden" id="backlogView">
        <div class="backlog-header">
            <div>
                <h2>üìã BACKLOG</h2>
                <p class="backlog-subtitle">Unsorted tasks ‚Äî drag them into a quadrant when ready</p>
            </div>
            <div class="backlog-header-actions">
                <div class="backlog-sort">
                    <span class="backlog-sort-label">ORDER:</span>
                    <button class="ctrl-btn backlog-sort-btn active" id="backlogFifoBtn">FIFO</button>
                    <button class="ctrl-btn backlog-sort-btn" id="backlogLifoBtn">LIFO</button>
                </div>
                <button class="ctrl-btn" id="closeBacklogBtn">
                    <span>‚Üê BACK</span>
                </button>
            </div>
        </div>

        <!-- Quadrant drop buckets -->
        <div class="backlog-buckets">
            <div class="backlog-bucket" data-bucket="urgent-important">
                <span class="bucket-icon">üî•</span>
                <span class="bucket-label">DO FIRST</span>
                <span class="bucket-hint">Drop here</span>
            </div>
            <div class="backlog-bucket" data-bucket="not-urgent-important">
                <span class="bucket-icon">üìÖ</span>
                <span class="bucket-label">SCHEDULE</span>
                <span class="bucket-hint">Drop here</span>
            </div>
            <div class="backlog-bucket" data-bucket="urgent-not-important">
                <span class="bucket-icon">üë•</span>
                <span class="bucket-label">DELEGATE</span>
                <span class="bucket-hint">Drop here</span>
            </div>
            <div class="backlog-bucket" data-bucket="not-urgent-not-important">
                <span class="bucket-icon">üóëÔ∏è</span>
                <span class="bucket-label">ELIMINATE</span>
                <span class="bucket-hint">Drop here</span>
            </div>
        </div>

        <!-- Backlog task input -->
        <div class="backlog-add-bar">
            <input type="text" class="backlog-add-input" id="backlogAddInput" placeholder="Add a task to the backlog... #tag https://link" />
        </div>

        <!-- Backlog task list -->
        <div class="backlog-list" id="backlogList"></div>
    </div>

    <!-- Task Creation/Edit Modal -->
    <div class="modal-overlay hidden" id="taskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">CREATE NEW TASK</h2>
                <button class="close-modal" id="closeModalBtn">‚úï</button>
            </div>
            
            <form id="taskForm">
                <div class="form-group">
                    <label for="taskText">Task Description</label>
                    <textarea id="taskText" rows="3" required placeholder="What needs to be done?"></textarea>
                </div>

                <div class="form-group quadrant-select-group" id="quadrantSelectGroup">
                    <label for="taskQuadrant">Quadrant</label>
                    <select id="taskQuadrant">
                        <option value="urgent-important">üî• DO FIRST (Urgent + Important)</option>
                        <option value="not-urgent-important">üìÖ SCHEDULE (Not Urgent + Important)</option>
                        <option value="urgent-not-important">üë• DELEGATE (Urgent + Not Important)</option>
                        <option value="not-urgent-not-important">üóëÔ∏è ELIMINATE (Not Urgent + Not Important)</option>
                    </select>
                </div>

                <div class="form-group urgency-toggle-group" id="urgencyToggleGroup">
                    <div class="toggle-question">
                        <label>Is it urgent?</label>
                        <div class="toggle-buttons">
                            <button type="button" class="toggle-btn" id="urgentYes" data-answer="yes">YES</button>
                            <button type="button" class="toggle-btn active" id="urgentNo" data-answer="no">NO</button>
                        </div>
                    </div>
                    <div class="toggle-question">
                        <label>Is it important?</label>
                        <div class="toggle-buttons">
                            <button type="button" class="toggle-btn" id="importantYes" data-answer="yes">YES</button>
                            <button type="button" class="toggle-btn active" id="importantNo" data-answer="no">NO</button>
                        </div>
                    </div>
                    <div class="quadrant-preview" id="quadrantPreview">
                        <span class="preview-icon">üóëÔ∏è</span>
                        <span class="preview-label">‚Üí ELIMINATE</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="taskTags">Tags (comma-separated)</label>
                    <input type="text" id="taskTags" placeholder="work, urgent, meeting">
                </div>

                <div class="form-group">
                    <label for="taskLinks">Links (comma-separated URLs)</label>
                    <input type="text" id="taskLinks" placeholder="https://example.com, https://docs.com">
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn-cancel" id="cancelTaskBtn">CANCEL</button>
                    <button type="submit" class="btn-submit">SAVE TASK</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Dialog -->
    <div class="delete-confirm-overlay hidden" id="deleteConfirmOverlay">
        <div class="delete-confirm-dialog">
            <div class="delete-confirm-header">
                <h3>DELETE TASK</h3>
            </div>
            <div class="delete-confirm-body">
                <p>Are you sure you want to delete this task?</p>
                <div class="delete-confirm-actions">
                    <button class="btn-confirm-delete" id="confirmDeleteBtn">YES, DELETE</button>
                    <button class="btn-confirm-archive" id="confirmArchiveBtn">NO, ARCHIVE</button>
                    <button class="btn-confirm-cancel" id="confirmCancelBtn">NO, CANCEL</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Onboarding Tour -->
    <div class="tour-overlay hidden" id="tourOverlay">
        <div class="tour-dialog">
            <div class="tour-header">
                <h2>üëã WELCOME TO EISENTODO</h2>
            </div>
            <div class="tour-body">
                <p>Organize your tasks using the <strong>Eisenhower Matrix</strong> ‚Äî split by urgency and importance.</p>
                <div class="tour-steps">
                    <div class="tour-step">
                        <span class="tour-step-icon">‚úçÔ∏è</span>
                        <div>
                            <strong>Write your task</strong>
                            <p>Use the input bar at the bottom of any quadrant.</p>
                        </div>
                    </div>
                    <div class="tour-step">
                        <span class="tour-step-icon">üè∑Ô∏è</span>
                        <div>
                            <strong>Add #tags</strong>
                            <p>Type <code>#work</code> or <code>#personal</code> to categorize.</p>
                        </div>
                    </div>
                    <div class="tour-step">
                        <span class="tour-step-icon">üîó</span>
                        <div>
                            <strong>Add links</strong>
                            <p>Paste <code>https://your.resource.com</code> to attach URLs.</p>
                        </div>
                    </div>
                </div>
                <p class="tour-cta">Try it yourself!</p>
            </div>
            <div class="tour-footer">
                <button class="btn-submit tour-dismiss-btn" id="tourDismissBtn">GOT IT!</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
